/*
    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 2 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */

#include "vars.h"

Uint8 scrbuf[76800];
Uint8 palette[256][3]; //768 bytes
Uint8 button[12], vbutton[12], buttonpressed;
Sint8 dpad = -1, dpadi;

Uint32 count;

Sint32 f_sin[4096], f_cos[4096];

Uint8 GameLoopEnabled = 1, voiceon;

Uint8 volume = 127, volumedelay = 0, volumepower = 5;

Uint8 MusicPlaying = 128;
Sint8 zl_vibro = -126;
Sint32 zl_gsensor[6];

Uint8 NextColor0[256], NextColor2[256];

Uint32 GameMode = 4, NextGameMode = 4, GameModeEndCount = 0;

Sint32 zlvertex, vbufferx[1024], vbuffery[1024], vbufferz[1024], vvis[1024];

Sint32 camera[6], tcamera[6];

Sint32 cursorx, cursory, cursormodecount;
Uint8 cursormode;

Uint8 map[64][64], mapunlock[8][8];
Sint8 mapz[65][65];
Sint32 turret0[64][64], turret1[64][64];
Uint8 wave;
Sint32 funds;

Uint8 dpadpower;

char s_textstring[128];
Sint8 l_textstring;

Uint8 cursorvisual, menuitem, towermenu;
Sint32 funds = 100, cost;
Sint32 gamespeed = 2;
Sint32 aimap[32][32], dirmap[32][32], spawnx, spawny;
Sint32 bullet[128][16], vline[128][16], mob[128][16], newvline[16],
		newbullet[16];

Uint8 soundon = 1, musicon = 1, screenblend = 1;

Uint16 wavedelay = 0, mobdelay, wavemobleft;
Sint32 iwavedata[100][8] =
//amount hp model color speed money Z /delay
		{
//0-9
				{ 0, 0, 0, 0, 0, 1, 0, 40 }, { 1, 1, 0, 4, 4000, 1, 0, 40 }, {
						3, 1, 0, 4, 4000, 1, 0, 40 }, { 5, 1, 0, 4, 5000, 1, 0,
						40 }, { 5, 2, 1, 4, 10000, 1, 80000, 50 }, { 7, 10, 0,
						8, 2000, 2, 0, 40 }, { 10, 4, 2, 4, 6000, 2, 0, 40 }, {
						20, 4, 2, 4, 6000, 2, 0, 20 }, { 2, 20, 1, 1, 8000, 2,
						80000, 100 }, { 10, 14, 1, 1, 7000, 2, 80000, 70 },
//10-19
				{ 5, 10, 2, 1, 6000, 2, 0, 30 },
				{ 5, 10, 2, 1, 6000, 2, 0, 30 },
				{ 15, 10, 2, 1, 6000, 2, 0, 30 },
				{ 15, 10, 2, 1, 6000, 2, 0, 30 },
				{ 10, 15, 2, 1, 5500, 2, 0, 30 },
				{ 1, 20, 2, 1, 15500, 2, 0, 30 },
				{ 10, 25, 0, 1, 5500, 2, 0, 30 },
				{ 20, 30, 0, 1, 5500, 2, 0, 30 },
				{ 1, 100, 0, 1, 7000, 10, 0, 0 },
				{ 1, 110, 2, 1, 6000, 10, 0, 0 },
//20-29
				{ 5, 30, 2, 2, 5000, 3, 0, 20 },
				{ 5, 31, 2, 2, 5000, 3, 0, 20 },
				{ 5, 31, 2, 2, 5000, 3, 0, 20 },
				{ 5, 31, 2, 2, 5000, 3, 0, 20 }, { 5, 20, 1, 2, 6000, 3, 80000,
						20 }, { 5, 20, 1, 2, 6000, 3, 80000, 20 }, { 5, 20, 1,
						2, 7000, 3, 80000, 20 },
				{ 10, 40, 0, 2, 7000, 3, 0, 20 },
				{ 19, 40, 0, 2, 8000, 3, 0, 20 },
				{ 10, 40, 0, 2, 8000, 3, 0, 20 },
//30-39
				{ 20, 40, 0, 3, 5000, 3, 0, 30 },
				{ 20, 45, 1, 3, 4000, 3, 0, 30 },
				{ 20, 45, 2, 3, 4000, 3, 0, 30 },
				{ 20, 45, 0, 3, 5000, 3, 0, 30 },
				{ 20, 45, 1, 3, 6000, 3, 0, 30 },
				{ 20, 45, 2, 3, 7000, 3, 0, 30 },
				{ 20, 45, 0, 3, 8000, 3, 0, 30 },
				{ 20, 45, 1, 3, 8000, 3, 0, 30 },
				{ 20, 45, 2, 3, 8000, 3, 0, 30 }, { 2, 400, 0, 7, 4000, 15, 0,
						150 },
//40-49
				{ 15, 20, 0, 3, 5000, 4, 0, 30 }, { 15, 30, 0, 11, 5000, 4, 0,
						25 }, { 15, 35, 1, 3, 5000, 4, 0, 20 }, { 15, 40, 1, 11,
						5000, 4, 0, 15 }, { 15, 50, 2, 3, 5000, 4, 0, 15 }, {
						15, 60, 2, 11, 5000, 4, 0, 15 }, { 15, 70, 0, 3, 5000,
						4, 0, 20 }, { 15, 80, 1, 11, 5000, 4, 0, 20 }, { 15, 90,
						2, 3, 5000, 4, 0, 20 },
				{ 1, 700, 0, 11, 8000, 25, 0, 10 },
//50-59
				{ 5, 80, 0, 12, 1000, 5, 0, 30 },
				{ 6, 80, 2, 12, 2000, 5, 0, 28 },
				{ 7, 80, 0, 12, 3000, 5, 0, 26 },
				{ 8, 80, 2, 12, 4000, 5, 0, 24 }, { 9, 100, 0, 12, 5000, 5, 0,
						22 }, { 10, 100, 0, 12, 6000, 5, 0, 20 }, { 11, 100, 2,
						12, 7000, 5, 0, 18 },
				{ 12, 100, 2, 12, 8000, 5, 0, 16 }, { 13, 100, 0, 12, 8500, 5,
						0, 14 }, { 1, 1000, 0, 12, 6000, 50, 0, 14 },
//60-69
				{ 10, 75, 0, 15, 9000, 6, 0, 50 }, { 20, 75, 1, 15, 9000, 6,
						80000, 50 }, { 25, 85, 0, 15, 9000, 6, 0, 50 }, { 30,
						85, 1, 15, 9000, 6, 80000, 50 }, { 20, 95, 0, 15, 9000,
						6, 0, 50 }, { 20, 95, 1, 15, 9000, 6, 0, 50 }, { 20, 75,
						1, 15, 9000, 6, 0, 50 },
				{ 20, 95, 1, 15, 9000, 6, 0, 50 }, { 20, 100, 1, 15, 9000, 6, 0,
						50 }, { 2, 1000, 0, 15, 9000, 60, 0, 100 },
//70-79
				{ 4, 400, 2, 1, 7000, 7, 0, 10 },
				{ 4, 400, 2, 2, 7500, 7, 0, 10 },
				{ 4, 400, 2, 3, 8000, 7, 0, 10 },
				{ 4, 450, 2, 4, 7000, 7, 0, 10 },
				{ 4, 450, 2, 5, 7500, 7, 0, 10 },
				{ 4, 450, 2, 6, 8000, 7, 0, 10 },
				{ 4, 500, 2, 7, 7000, 7, 0, 10 },
				{ 4, 500, 2, 8, 7500, 7, 0, 10 },
				{ 4, 500, 2, 9, 8000, 7, 0, 10 }, { 4, 600, 2, 10, 7000, 7, 0,
						10 },
//80-89
				{ 2, 1000, 0, 6, 6660, 8, 0, 10 }, { 2, 1200, 0, 6, 6660, 8, 0,
						15 }, { 2, 1300, 2, 6, 6660, 8, 0, 20 }, { 2, 1400, 0,
						6, 6660, 8, 0, 25 }, { 2, 1500, 0, 6, 6660, 8, 0, 30 },
				{ 2, 1500, 1, 6, 6660, 8, 0, 35 }, { 2, 1500, 0, 6, 6660, 8, 0,
						40 }, { 2, 1500, 1, 6, 6660, 8, 8000, 45 }, { 2, 1500,
						0, 6, 6660, 8, 0, 50 },
				{ 2, 1500, 0, 6, 6660, 8, 0, 55 },
//90-99
				{ 1, 2000, 1, 7, 140000, 50, 80000, 5 }, { 1, 3000, 0, 7, 9000,
						50, 0, 5 }, { 1, 4000, 0, 7, 9000, 50, 0, 5 }, { 1,
						5000, 2, 7, 9000, 50, 0, 5 }, { 1, 5500, 0, 7, 9000, 50,
						0, 5 }, { 1, 5600, 2, 7, 9000, 50, 0, 5 }, { 1, 5700, 0,
						7, 9000, 50, 0, 5 }, { 1, 6000, 2, 7, 9000, 50, 0, 5 },
				{ 1, 6200, 2, 7, 9000, 50, 0, 5 }, { 2, 6500, 15, 7, 9000, 50,
						0, 400 }

		};

Uint8 lives;

Sint32 debug_v[16];
